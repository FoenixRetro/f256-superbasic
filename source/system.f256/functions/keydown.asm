; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		keydown.asm
;		Purpose:	Check if key down by raw code.
;		Created:	20th January 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section code

; ************************************************************************************************
;
; 										KEYDOWN(n)
;
; ************************************************************************************************

KeyDown: ;; [keydown(]	
		jsr 	ProcessEvents 				; process outstanding events.
		plx 								; restore stack pos
		jsr 	Evaluate8BitInteger 		; key to check.
		pha 								; check right bracket.
		jsr 	CheckRightBracket
		pla
		jsr 	KeyboardConvertXA 			; get offset and mask.
		and 	KeyStatus,x 				; is it zero ?
		beq 	_KeyUp
		jmp 	ReturnTrue
_KeyUp:	jmp 	ReturnFalse		

		.send code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
